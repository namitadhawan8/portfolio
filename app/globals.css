@import "tailwindcss";

:root {
  --background: #ffffff;
  --foreground: #111111;
  --primary: #B76BFC;
}

.dark {
  --background: #0a0a0a;
  --foreground: #ededed;
  --primary: #B76BFC;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-primary: var(--primary);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

@layer base {
  html {
    scroll-behavior: smooth;
    color-scheme: light;
    background-color: #ffffff;
    color: #111111;
  }

  html.dark {
    color-scheme: dark;
    background-color: #0a0a0a;
    color: #ededed;
  }

  body {
    background: var(--background);
    color: var(--foreground);
    font-family: var(--font-sans), Arial, sans-serif;
    cursor: none;
    transition: background-color 0.2s ease, color 0.2s ease;
  }

  /* Force light mode when dark class is NOT present */
  html:not(.dark) body {
    background-color: #ffffff !important;
    color: #111111 !important;
  }

  html:not(.dark) .bg-white {
    background-color: #ffffff !important;
  }

  html:not(.dark) .text-zinc-900 {
    color: #111111 !important;
  }

  /* Ensure hover states work for text buttons - override with higher specificity */
  html:not(.dark) header nav a:hover,
  html:not(.dark) footer nav a:hover,
  html:not(.dark) footer a[href^="mailto:"]:hover,
  html:not(.dark) a[class*="transition-colors"]:hover:not([class*="bg-"]):not([class*="border-"]) {
    color: #B76BFC !important;
  }

  html:not(.dark) .bg-zinc-50 {
    background-color: #fafafa !important;
  }

  html:not(.dark) .text-zinc-700 {
    color: #3f3f46 !important;
  }

  html:not(.dark) .text-zinc-500 {
    color: #71717a !important;
  }

  /* Ensure hover states work for all text buttons - override with higher specificity */
  html:not(.dark) header a[class*="transition-colors"]:hover,
  html:not(.dark) footer a[class*="transition-colors"]:hover,
  html:not(.dark) section a[class*="transition-colors"]:hover,
  html:not(.dark) a.text-zinc-900:hover,
  html:not(.dark) a.text-zinc-700:hover {
    color: #B76BFC !important;
  }

  /* Force header to be white in light mode */
  html:not(.dark) header {
    background-color: #ffffff !important;
    border-bottom-color: rgba(0, 0, 0, 0.1) !important;
  }

  /* Ensure secondary button stays white by default and on hover - target by border-zinc-300 class */
  html:not(.dark) a.border-zinc-300 {
    background-color: #ffffff !important;
    color: #111111 !important;
  }

  html:not(.dark) a.border-zinc-300:hover {
    background-color: #ffffff !important;
    color: #111111 !important;
  }

  /* Ensure chips/tags stay white by default - target rounded-full with border */
  html:not(.dark) span.rounded-full.border.bg-white:not(:hover) {
    background-color: #ffffff !important;
    color: #3f3f46 !important;
  }

  html:not(.dark) span.rounded-full.border.bg-white:hover {
    background-color: rgba(183, 107, 252, 0.05) !important;
    color: #B76BFC !important;
  }

  /* Don't override header text colors - let Tailwind handle it */

  /* Ensure primary color variable is pink in light mode */
  html:not(.dark) {
    --primary: #B76BFC !important;
  }

  html.dark {
    --primary: #B76BFC !important;
  }

  /* Use CSS custom properties for primary color that changes with theme */
  :root {
    --color-primary: #B76BFC;
  }

  .dark {
    --color-primary: #B76BFC;
  }

  /* Star icon - purple SVG is already purple, no filter needed */
  /* Remove any filters that might override the purple color */
  .star-icon-purple,
  .star-icon-purple img,
  .star-icon-purple > *,
  .star-icon-purple span,
  .star-icon-purple span img {
    filter: none !important;
  }

  /* Keep pink filter for backward compatibility if needed */
  .star-icon-pink {
    filter: brightness(0) saturate(100%) invert(74%) sepia(100%) saturate(2000%) hue-rotate(280deg) brightness(95%) contrast(95%) !important;
  }

  .star-icon-pink img,
  .star-icon-pink > *,
  .star-icon-pink span,
  .star-icon-pink span img {
    filter: brightness(0) saturate(100%) invert(74%) sepia(100%) saturate(2000%) hue-rotate(280deg) brightness(95%) contrast(95%) !important;
  }

  /* CRITICAL: Force pink in light mode - but NOT on cards */
  html:not(.dark) .force-pink-theme:not([class*="bg-zinc-50"]):not([class*="rounded-3xl"]) {
    background-color: #B76BFC !important;
    border-color: #B76BFC !important;
    color: #B76BFC !important;
  }
  
  /* Also ensure cards stay light grey */
  html:not(.dark) [class*="bg-zinc-50"] {
    background-color: #fafafa !important;
  }
  
  /* Force purple in dark mode */
  html.dark .force-purple-theme {
    background-color: #B76BFC !important;
    border-color: #B76BFC !important;
    color: #B76BFC !important;
  }

  * {
    cursor: none !important;
  }

  /* Ensure all interactive elements also hide cursor */
  button, a, [role="button"], input, textarea, select, label {
    cursor: none !important;
  }

  /* Hide cursor on all pseudo-elements */
  *::before, *::after {
    cursor: none !important;
  }

  /* Only hide/show custom cursor on precise pointers */
  @media (pointer: fine) {
    * {
      cursor: none !important;
    }
    button, a, [role="button"], input, textarea, select, label {
      cursor: none !important;
    }
    *::before, *::after {
      cursor: none !important;
    }
    .custom-cursor {
      cursor: none !important;
      pointer-events: none !important;
      user-select: none !important;
      -webkit-user-select: none !important;
    }
    .custom-cursor > div > div {
      border-radius: 50% !important;
      will-change: transform;
      box-sizing: border-box !important;
      display: block !important;
    }
  }

  /* Hide cursor on touch devices */
  @media (pointer: coarse) {
    * {
      cursor: auto !important;
    }
    .custom-cursor {
      display: none !important;
    }
  }

  /* Fix nextjs-portal positioning - hide it completely to prevent layout issues */
  nextjs-portal {
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    width: 0 !important;
    height: 0 !important;
    margin: 0 !important;
    padding: 0 !important;
    border: none !important;
    overflow: hidden !important;
    pointer-events: none !important;
    visibility: hidden !important;
    z-index: -1 !important;
  }
  
  /* Allow children of nextjs-portal to be visible and interactive */
  nextjs-portal > * {
    visibility: visible !important;
    pointer-events: auto !important;
  }
}

@keyframes marquee-scroll {
  from {
    transform: translateX(0);
  }
  to {
    transform: translateX(-50%);
  }
}

@keyframes slide-up {
  from {
    transform: translateY(100%);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

@keyframes float-badge {
  0%, 100% {
    transform: translateY(0px);
  }
  50% {
    transform: translateY(-10px);
  }
}

@keyframes badge-entrance {
  0% {
    opacity: 0;
    transform: translate(calc(-50% + var(--offset-x, 0)), calc(-50% + var(--offset-y, 0))) scale(0.5);
  }
  100% {
    opacity: 1;
    transform: translate(-50%, -50%) scale(1);
  }
}

@layer utilities {
  .marquee-track {
    display: flex;
    width: max-content;
    align-items: center;
    gap: 6rem;
    white-space: nowrap;
    animation-name: marquee-scroll;
    animation-duration: var(--marquee-duration, 22s);
    animation-timing-function: linear;
    animation-iteration-count: infinite;
  }

  .marquee-direction-left {
    animation-direction: normal;
  }

  .marquee-direction-right {
    animation-direction: reverse;
  }

  .animate-slide-up {
    animation: slide-up 1.5s ease-out forwards;
    animation-delay: 0.5s;
    opacity: 0;
  }

  .animate-float-badge {
    animation: float-badge 3s ease-in-out infinite;
    will-change: transform;
  }

  .animate-badge-entrance {
    animation: badge-entrance 1s ease-out forwards, float-badge 3s ease-in-out infinite 1s;
    will-change: transform, opacity;
    transform-origin: center center;
  }

  /* More Work Carousel Card Hover Border */
  .more-work-card:hover {
    border-width: 3px !important;
    border-color: #B76BFC !important;
  }
}
